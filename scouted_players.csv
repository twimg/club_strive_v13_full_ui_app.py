import streamlit as st
import pandas as pd
from datetime import datetime

st.title("ğŸ” ã‚¹ã‚«ã‚¦ãƒˆã‚»ãƒ³ã‚¿ãƒ¼ - å¥‘ç´„çŠ¶æ³ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ä»˜ã")

# CSVèª­ã¿è¾¼ã¿
df = pd.read_csv("scouted_players.csv")
df['å¥‘ç´„çµ‚äº†æ—¥'] = pd.to_datetime(df['å¥‘ç´„çµ‚äº†æ—¥'])

# æ¤œç´¢ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼
col1, col2 = st.columns(2)

# ğŸ“… å¥‘ç´„çµ‚äº†æ—¥ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼
with col1:
    date_filter = st.date_input("å¥‘ç´„çµ‚äº†æ—¥ã‚ˆã‚Šå‰ã®é¸æ‰‹ã‚’è¡¨ç¤º", value=datetime.today())
    filtered_df = df[df["å¥‘ç´„çµ‚äº†æ—¥"] <= pd.to_datetime(date_filter)]

# âœ… ãƒ•ãƒªãƒ¼é¸æ‰‹ã®ã¿
with col2:
    show_free = st.checkbox("ç¾åœ¨ãƒ•ãƒªãƒ¼ã®é¸æ‰‹ã®ã¿è¡¨ç¤º", value=False)
    if show_free:
        filtered_df = filtered_df[filtered_df["ãƒ•ãƒªãƒ¼çŠ¶æ…‹"] == True]

# çµæœè¡¨ç¤º
st.markdown("### ğŸ“‹ è©²å½“ã‚¹ã‚«ã‚¦ãƒˆå€™è£œä¸€è¦§")
st.dataframe(filtered_df.reset_index(drop=True))
